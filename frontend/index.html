<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>中国古代建筑成就</title>
    <link rel="stylesheet" href="css/styles.css">
    <!-- Google Fonts for a better look -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;700&display=swap" rel="stylesheet">
</head>
<body data-page="home">

    <header>
        “AI+”古建筑学习网站
        <a class="auth-link" href="login.html">登录/注册</a>
        <button id="reset-btn" class="reset-btn" title="重置游戏进度（测试用）">重置</button>
    </header>

    <div class="main-container">
        <div class="game-and-list-container">
            <!-- 小游戏占位 -->
            <div class="game-area">
                <div class="game-placeholder-text" id="game-placeholder">
                    <h2>古代建筑小游戏</h2>
                    <p id="game-msg">游玩小游戏以解锁建筑成就！</p>
                </div>
                <button id="play-btn" class="play-btn">开始游玩</button>
                <img id="game-map" class="game-map" src="../imgRes/gameMap.png" alt="游戏地图" style="display: none;">
            </div>

            <!-- 滚动图鉴 -->
            <div class="building-list-wrapper">
                <h3>建筑图鉴</h3>
                <div id="building-list" class="scroll-container">
                    <!-- Items will be injected by JS -->
                </div>
            </div>
        </div>
    </div>

    <div id="barrage-container" class="barrage-container"></div>
    <script src="js/jquery-3.7.1.min.js"></script>
    <script src="js/script.js"></script>
</body>
</html>

<!-- 游戏模态框 -->
<div id="game-modal" class="modal" style="display: none;">
    <div class="modal-content">
        <div class="modal-header">
            <h2 id="game-title">关卡挑战</h2>
            <span class="close-btn" id="close-game-btn">&times;</span>
        </div>
        <div class="modal-body">
            <!-- 加载状态 -->
            <div id="game-loading" style="display: none;">
                <div class="spinner"></div>
                <p>正在生成题目，请稍候...</p>
            </div>

            <!-- 答题区域 -->
            <div id="game-quiz" style="display: none;">
                <div class="progress-bar">
                    <div id="quiz-progress" class="progress-fill" style="width: 0%;"></div>
                </div>
                <div class="question-container">
                    <h3 id="question-text">题目内容...</h3>
                    <p id="question-hint" class="hint-text" style="display:none;">提示: ...</p>
                    <button id="show-hint-btn" class="btn-text">查看提示</button>
                </div>
                <div id="options-container" class="options-grid">
                    <!-- 选项按钮 -->
                </div>
            </div>

            <!-- 结果区域 -->
            <div id="game-result" style="display: none;">
                <div id="result-success" style="display: none;">
                    <h3 class="success-text">恭喜通关！</h3>
                    <p>你已成功完成挑战，解锁了新的建筑！</p>
                    <div class="comment-section">
                        <h4>留下你的感言：</h4>
                        <textarea id="game-comment-input" placeholder="写下你的评论..."></textarea>
                        <button id="submit-comment-btn" class="btn btn-primary">提交评论并解锁下一关</button>
                    </div>
                </div>
                <div id="result-fail" style="display: none;">
                    <h3 class="fail-text">胜败乃兵家常事</h3>
                    <p>少侠请重新来过！</p>
                    <button id="retry-btn" class="btn btn-secondary">返回主界面</button>
                </div>
            </div>
        </div>
    </div>
</div>
